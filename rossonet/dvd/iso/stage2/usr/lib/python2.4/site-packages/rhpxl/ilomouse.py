#
# ilomouse.py - finds the HP iLO 2 virtual mouse
#
# Copyright (C) 2008 Hewlett-Packard Development Company, L.P.
#
# This software may be freely redistributed under the terms of the GNU
# library public license.
#
# You should have received a copy of the GNU Library Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
#
import kudzu

class ilomouseCheck:
    def isDevicePresent(self):
        return self.deviceExist

    def probe (self):
        lst = kudzu.probe(kudzu.CLASS_MOUSE, kudzu.BUS_USB,
                          kudzu.PROBE_ALL)

        for card in lst:
            (device, driver, descr) = card
            if descr == "HP Virtual Management Device":
                self.deviceExist = 1

    def __init__ (self):
        self.deviceExist = 0 
        self.probe()

